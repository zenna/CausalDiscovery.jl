(program
  (= GRID_SIZE 100)
    
  (object Button (: color String) (Cell 0 0 color))
  (object Blob (list (Cell 0 0 "blue")))
  
  (: blobs (List Blob))
  (= blobs (initnext (list (Blob (Position 50 50))) (prev blobs)))
  
  (: xVel Int)
  (= xVel (initnext 0 (prev xVel)))
  
  (: yVel Int)
  (= yVel (initnext 0 (prev yVel)))
  
  (: xActive Bool)
  (= xActive (initnext true (prev xActive)))

  (on clicked (= xActive (! xActive)))
  
  (on (& left xActive) (= xVel (- (prev xVel) 1)))
  (on (& right xActive) (= xVel (+ (prev xVel) 1)))

  (on (& up (! xActive)) (= yVel (- (prev yVel) 1)))
  (on (& down (! xActive)) (= yVel (+ (prev yVel) 1)))

  (on true (= blobs (updateObj blobs (--> obj (moveNoCollision obj (Position (sign (prev xVel)) (sign (prev yVel))))))))
)
